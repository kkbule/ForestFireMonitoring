(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9fa2"],{"34f1":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-wrapper"},[e("el-container",{staticStyle:{height:"100vh"}},[e("el-header",{staticClass:"e-header"},[e("Top")],1),e("el-main",{staticStyle:{padding:"0",position:"relative"}},[e("keep-alive",[t.$route.meta.keepAlive?e("router-view"):t._e()],1),t.$route.meta.keepAlive?t._e():e("router-view")],1)],1)],1)},n=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"top-wrapper"},[e("div",{staticClass:"top-logo"}),e("div",{staticClass:"top-title"},[e("span",[t._v(t._s(t.systemTitle))])]),e("div",{staticClass:"top-sub-title",staticStyle:{cursor:"pointer","margin-right":"5px"},on:{click:function(e){return t.goMain("/main")}}},[e("span",{staticClass:"el-icon-menu"},[t._v("总览")])]),e("div",{staticClass:"top-nav"},[e("div",{staticClass:"nav-box"},[e("ul",t._l(t.topNavs,(function(a){return e("li",{key:a.code,class:[a.css,{active:a.code==t.curNavNo}],on:{click:function(e){return t.topMenuClick(a)}}},[t._v(" "+t._s(a.name)+" ")])})),0)])]),e("div",{staticClass:"top-user"},[e("span",{staticClass:"el-icon-search search"}),e("span",{staticClass:"el-icon-bell notice"}),e("span",[t._v(t._s(t.name))]),e("span",{on:{click:t.logout}},[t._v("退出")])])])},i=[],c=(a("14d9"),a("b775")),r=a("f121"),l=a("1a78");class u extends l["a"]{getTrees(){return Object(c["b"])(r["a"].bigdataURL+"/menu/tree")}logout(){return Object(c["c"])(r["a"].bigdataURL+"/author/auth/logout")}}var p=new u(r["a"].bigdataURL+"/menu"),d={name:"Top",components:{},data:function(){return{systemTitle:g_config.systemTitle,curNavNo:null,topNavs:[{code:1,path:"/early-warning",name:"预警预测"},{code:2,path:"/monitoring-alarm",name:"告警监测"},{code:3,path:"",name:"指挥调度"},{code:4,path:"",name:"灾后研判"},{code:5,path:"",name:"资源管理"},{code:6,path:"",name:"系统管理"}],userInfo:{},name:""}},created(){},mounted:function(){},methods:{topMenuClick(t){let e=t.path;e?(this.$router.push({path:e,query:{id:t.code}}),this.curNavNo=t.code):this.utils.opeNotify("","top-center","尚未开发！","2000","warning")},logout:function(){const t=this;t.$confirm("确定退出？","提示",{type:"warning"}).then(()=>{sessionStorage.clear(),localStorage.clear(),this.$router.push({path:"/login"})}).catch(()=>{})},goMain(t){this.curNavNo=null,this.$router.push(t)},getMenus:async function(){await p.getTrees().then(t=>{let e=t.data.result;if(e){let a=e.menusTree;this.topNavs=a,localStorage.setItem("cmenus",JSON.stringify(a)),this.name=t.data.message.split("]")[1],localStorage.setItem("username",this.name),localStorage.setItem("buttonList",JSON.stringify(e.buttons.split(","))),console.log(localStorage.getItem("buttonList"))}})}}},h=d,m=a("2877"),g=Object(m["a"])(h,o,i,!1,null,"3eebf322",null),v=g.exports,f={name:"index",components:{Top:v},props:{},data:function(){return{}},computed:{},watch:{},created(){},mounted(){},destroyed(){},methods:{}},b=f,w=Object(m["a"])(b,s,n,!1,null,null,null);e["default"]=w.exports}}]);